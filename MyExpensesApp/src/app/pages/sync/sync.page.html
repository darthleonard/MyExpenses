<app-header title="Sync"></app-header>

<ion-content>
  Last Sync Date: {{ lastSyncDate | date : 'short'}}
  <ion-list>
    <ion-grid fixed>
      <ion-row>
        <ion-col size="6">
          <ion-label> </ion-label>
        </ion-col>
        <ion-col size="2">
          <ion-label> <ion-icon name="add-outline"></ion-icon> </ion-label>
        </ion-col>
        <ion-col size="2">
          <ion-label> <ion-icon name="create-outline"></ion-icon> </ion-label>
        </ion-col>
        <ion-col size="2">
          <ion-label> <ion-icon name="trash-outline"></ion-icon> </ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-item *ngFor="let record of unsyncedRecords">
      <ion-grid fixed>
        <ion-row>
          <ion-col size="6">
            <ion-label> {{ record.table }} </ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-label> {{ record.news }} </ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-label> {{ record.updated }} </ion-label>
          </ion-col>
          <ion-col size="2">
            <ion-label> {{ record.deleted }} </ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </ion-list>

  <app-info-box
      *ngIf="!cloudService.online"
      message="Server not accesible"
      actionTitle="try again"
      (actionClick)="onActionClick()"
    >
    </app-info-box>
  <ion-button (click)="onSync()" expand="block" [disabled]="!cloudService.online"> Synchronize </ion-button>
</ion-content>
